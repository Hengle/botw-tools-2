import argparse
import sys
import os
from PIL import Image


class HGHT:
    COLOR_MODE_GRADIENT = 0x00
    COLOR_MODE_TABLE = 0x01

    def __init__(self, path, is_terrain, is_water, is_material, is_grass, is_composite, is_gray_scale):
        print("Extracting HGHT...")

        terrain_height_map_gradient = [
            [0.00, 0x00, 0x9a, 0x24],
            [0.45, 0xff, 0xff, 0x00],
            [0.90, 0xff, 0x00, 0x00],
            [1.00, 0xff, 0xa0, 0xa0]
        ]

        water_height_map_gradient = [
            [0.00, 0x34, 0x40, 0x44],
            [1.00, 0x15, 0x54, 0xd1]
        ]

        water_depth_map_gradient = [
            [0.00, 0x15, 0x54, 0xd1],
            [1.00, 0x34, 0x40, 0x44]
        ]

        grass_map_gradient = [
            [0.06, 0x00, 0xff, 0xff],
            [0.11, 0x00, 0xff, 0x00],
            [0.17, 0xff, 0xff, 0x00],
            [0.22, 0xff, 0x00, 0x00],
            [0.28, 0xff, 0x00, 0xff],
            [0.33, 0x00, 0x00, 0xff],
            [0.39, 0x00, 0xff, 0xff],
            [0.44, 0x00, 0xff, 0x00],
            [0.50, 0xff, 0xff, 0x00],
            [0.56, 0xff, 0x00, 0x00],
            [0.61, 0xff, 0x00, 0xff],
            [0.67, 0x00, 0x00, 0xff],
            [0.72, 0x00, 0xff, 0xff],
            [0.78, 0x00, 0xff, 0x00],
            [0.83, 0xff, 0xff, 0x00],
            [0.89, 0xff, 0x00, 0x00],
            [0.94, 0xff, 0x00, 0xff],
            [1.00, 0x00, 0x00, 0xff]
        ]

        mate_map_gradient = {
            0: (0x00, 0x00, 0x00),
            10001: (0x00, 0x00, 0x00),
            10006: (0x00, 0x00, 0x00),
            10012: (0x00, 0x00, 0x00),
            10016: (0x00, 0x00, 0x00),
            10023: (0x00, 0x00, 0x00),
            10026: (0x00, 0x00, 0x00),
            10029: (0x00, 0x00, 0x00),
            10030: (0x00, 0x00, 0x00),
            10039: (0x00, 0x00, 0x00),
            10047: (0x00, 0x00, 0x00),
            10051: (0x00, 0x00, 0x00),
            10053: (0x00, 0x00, 0x00),
            10058: (0x00, 0x00, 0x00),
            10061: (0x00, 0x00, 0x00),
            10068: (0x00, 0x00, 0x00),
            10069: (0x00, 0x00, 0x00),
            10240: (0x00, 0x00, 0x00),
            10249: (0x00, 0x00, 0x00),
            1024: (0x00, 0x00, 0x00),
            10285: (0x00, 0x00, 0x00),
            1028: (0x00, 0x00, 0x00),
            10298: (0x00, 0x00, 0x00),
            10309: (0x00, 0x00, 0x00),
            10317: (0x00, 0x00, 0x00),
            1031: (0x00, 0x00, 0x00),
            1033: (0x00, 0x00, 0x00),
            10496: (0x00, 0x00, 0x00),
            10497: (0x00, 0x00, 0x00),
            10505: (0x00, 0x00, 0x00),
            10507: (0x00, 0x00, 0x00),
            10529: (0x00, 0x00, 0x00),
            10530: (0x00, 0x00, 0x00),
            10533: (0x00, 0x00, 0x00),
            10535: (0x00, 0x00, 0x00),
            10537: (0x00, 0x00, 0x00),
            10542: (0x00, 0x00, 0x00),
            10556: (0x00, 0x00, 0x00),
            10559: (0x00, 0x00, 0x00),
            10563: (0x00, 0x00, 0x00),
            10577: (0x00, 0x00, 0x00),
            10580: (0x00, 0x00, 0x00),
            1058: (0x00, 0x00, 0x00),
            1074: (0x00, 0x00, 0x00),
            10752: (0x00, 0x00, 0x00),
            10758: (0x00, 0x00, 0x00),
            10759: (0x00, 0x00, 0x00),
            10761: (0x00, 0x00, 0x00),
            10763: (0x00, 0x00, 0x00),
            10766: (0x00, 0x00, 0x00),
            10769: (0x00, 0x00, 0x00),
            10780: (0x00, 0x00, 0x00),
            10784: (0x00, 0x00, 0x00),
            10786: (0x00, 0x00, 0x00),
            10787: (0x00, 0x00, 0x00),
            10790: (0x00, 0x00, 0x00),
            10791: (0x00, 0x00, 0x00),
            10797: (0x00, 0x00, 0x00),
            10798: (0x00, 0x00, 0x00),
            10802: (0x00, 0x00, 0x00),
            10813: (0x00, 0x00, 0x00),
            10819: (0x00, 0x00, 0x00),
            10821: (0x00, 0x00, 0x00),
            10824: (0x00, 0x00, 0x00),
            10826: (0x00, 0x00, 0x00),
            10827: (0x00, 0x00, 0x00),
            10829: (0x00, 0x00, 0x00),
            1082: (0x00, 0x00, 0x00),
            10835: (0x00, 0x00, 0x00),
            1095: (0x00, 0x00, 0x00),
            11008: (0x00, 0x00, 0x00),
            11013: (0x00, 0x00, 0x00),
            11017: (0x00, 0x00, 0x00),
            11022: (0x00, 0x00, 0x00),
            11029: (0x00, 0x00, 0x00),
            1102: (0x00, 0x00, 0x00),
            11036: (0x00, 0x00, 0x00),
            11042: (0x00, 0x00, 0x00),
            11046: (0x00, 0x00, 0x00),
            11058: (0x00, 0x00, 0x00),
            11067: (0x00, 0x00, 0x00),
            11068: (0x00, 0x00, 0x00),
            11079: (0x00, 0x00, 0x00),
            11086: (0x00, 0x00, 0x00),
            11088: (0x00, 0x00, 0x00),
            11520: (0x00, 0x00, 0x00),
            11523: (0x00, 0x00, 0x00),
            11528: (0x00, 0x00, 0x00),
            11529: (0x00, 0x00, 0x00),
            11531: (0x00, 0x00, 0x00),
            11534: (0x00, 0x00, 0x00),
            11536: (0x00, 0x00, 0x00),
            11537: (0x00, 0x00, 0x00),
            11541: (0x00, 0x00, 0x00),
            11548: (0x00, 0x00, 0x00),
            11554: (0x00, 0x00, 0x00),
            11557: (0x00, 0x00, 0x00),
            11559: (0x00, 0x00, 0x00),
            11579: (0x00, 0x00, 0x00),
            11582: (0x00, 0x00, 0x00),
            11587: (0x00, 0x00, 0x00),
            11589: (0x00, 0x00, 0x00),
            11594: (0x00, 0x00, 0x00),
            11595: (0x00, 0x00, 0x00),
            11597: (0x00, 0x00, 0x00),
            11598: (0x00, 0x00, 0x00),
            11602: (0x00, 0x00, 0x00),
            11605: (0x00, 0x00, 0x00),
            11776: (0x00, 0x00, 0x00),
            11783: (0x00, 0x00, 0x00),
            11785: (0x00, 0x00, 0x00),
            11787: (0x00, 0x00, 0x00),
            11792: (0x00, 0x00, 0x00),
            11793: (0x00, 0x00, 0x00),
            11809: (0x00, 0x00, 0x00),
            11810: (0x00, 0x00, 0x00),
            11817: (0x00, 0x00, 0x00),
            11818: (0x00, 0x00, 0x00),
            11822: (0x00, 0x00, 0x00),
            11831: (0x00, 0x00, 0x00),
            11833: (0x00, 0x00, 0x00),
            11835: (0x00, 0x00, 0x00),
            11837: (0x00, 0x00, 0x00),
            11838: (0x00, 0x00, 0x00),
            11839: (0x00, 0x00, 0x00),
            11853: (0x00, 0x00, 0x00),
            11855: (0x00, 0x00, 0x00),
            11857: (0x00, 0x00, 0x00),
            11863: (0x00, 0x00, 0x00),
            11: (0x00, 0x00, 0x00),
            12032: (0x00, 0x00, 0x00),
            12035: (0x00, 0x00, 0x00),
            12041: (0x00, 0x00, 0x00),
            12043: (0x00, 0x00, 0x00),
            12047: (0x00, 0x00, 0x00),
            12049: (0x00, 0x00, 0x00),
            12074: (0x00, 0x00, 0x00),
            12078: (0x00, 0x00, 0x00),
            12079: (0x00, 0x00, 0x00),
            12082: (0x00, 0x00, 0x00),
            12113: (0x00, 0x00, 0x00),
            12350: (0x00, 0x00, 0x00),
            12544: (0x00, 0x00, 0x00),
            12552: (0x00, 0x00, 0x00),
            12558: (0x00, 0x00, 0x00),
            12560: (0x00, 0x00, 0x00),
            12561: (0x00, 0x00, 0x00),
            12563: (0x00, 0x00, 0x00),
            12593: (0x00, 0x00, 0x00),
            12599: (0x00, 0x00, 0x00),
            12606: (0x00, 0x00, 0x00),
            12624: (0x00, 0x00, 0x00),
            12800: (0x00, 0x00, 0x00),
            12807: (0x00, 0x00, 0x00),
            12808: (0x00, 0x00, 0x00),
            1280: (0x00, 0x00, 0x00),
            12811: (0x00, 0x00, 0x00),
            12819: (0x00, 0x00, 0x00),
            12822: (0x00, 0x00, 0x00),
            12827: (0x00, 0x00, 0x00),
            12828: (0x00, 0x00, 0x00),
            12832: (0x00, 0x00, 0x00),
            12833: (0x00, 0x00, 0x00),
            12834: (0x00, 0x00, 0x00),
            12835: (0x00, 0x00, 0x00),
            12842: (0x00, 0x00, 0x00),
            12847: (0x00, 0x00, 0x00),
            12850: (0x00, 0x00, 0x00),
            12859: (0x00, 0x00, 0x00),
            12861: (0x00, 0x00, 0x00),
            12862: (0x00, 0x00, 0x00),
            12870: (0x00, 0x00, 0x00),
            12881: (0x00, 0x00, 0x00),
            12: (0x00, 0x00, 0x00),
            13056: (0x00, 0x00, 0x00),
            13061: (0x00, 0x00, 0x00),
            13107: (0x00, 0x00, 0x00),
            13114: (0x00, 0x00, 0x00),
            13129: (0x00, 0x00, 0x00),
            13133: (0x00, 0x00, 0x00),
            1320: (0x00, 0x00, 0x00),
            1321: (0x00, 0x00, 0x00),
            13340: (0x00, 0x00, 0x00),
            13371: (0x00, 0x00, 0x00),
            13383: (0x00, 0x00, 0x00),
            13576: (0x00, 0x00, 0x00),
            13832: (0x00, 0x00, 0x00),
            13843: (0x00, 0x00, 0x00),
            13873: (0x00, 0x00, 0x00),
            13879: (0x00, 0x00, 0x00),
            14080: (0x00, 0x00, 0x00),
            14087: (0x00, 0x00, 0x00),
            14088: (0x00, 0x00, 0x00),
            14089: (0x00, 0x00, 0x00),
            14095: (0x00, 0x00, 0x00),
            14097: (0x00, 0x00, 0x00),
            14099: (0x00, 0x00, 0x00),
            14108: (0x00, 0x00, 0x00),
            14113: (0x00, 0x00, 0x00),
            14114: (0x00, 0x00, 0x00),
            14122: (0x00, 0x00, 0x00),
            14126: (0x00, 0x00, 0x00),
            14129: (0x00, 0x00, 0x00),
            14134: (0x00, 0x00, 0x00),
            14135: (0x00, 0x00, 0x00),
            14142: (0x00, 0x00, 0x00),
            14150: (0x00, 0x00, 0x00),
            14151: (0x00, 0x00, 0x00),
            14157: (0x00, 0x00, 0x00),
            14161: (0x00, 0x00, 0x00),
            14167: (0x00, 0x00, 0x00),
            14336: (0x00, 0x00, 0x00),
            14344: (0x00, 0x00, 0x00),
            14364: (0x00, 0x00, 0x00),
            14414: (0x00, 0x00, 0x00),
            14592: (0x00, 0x00, 0x00),
            14848: (0x00, 0x00, 0x00),
            14855: (0x00, 0x00, 0x00),
            14859: (0x00, 0x00, 0x00),
            14865: (0x00, 0x00, 0x00),
            14881: (0x00, 0x00, 0x00),
            14888: (0x00, 0x00, 0x00),
            14893: (0x00, 0x00, 0x00),
            14906: (0x00, 0x00, 0x00),
            14925: (0x00, 0x00, 0x00),
            14: (0x00, 0x00, 0x00),
            15110: (0x00, 0x00, 0x00),
            15125: (0x00, 0x00, 0x00),
            15132: (0x00, 0x00, 0x00),
            15163: (0x00, 0x00, 0x00),
            15175: (0x00, 0x00, 0x00),
            15360: (0x00, 0x00, 0x00),
            15369: (0x00, 0x00, 0x00),
            1536: (0x00, 0x00, 0x00),
            15385: (0x00, 0x00, 0x00),
            15421: (0x00, 0x00, 0x00),
            15422: (0x00, 0x00, 0x00),
            1542: (0x00, 0x00, 0x00),
            15430: (0x00, 0x00, 0x00),
            15431: (0x00, 0x00, 0x00),
            1543: (0x00, 0x00, 0x00),
            1544: (0x00, 0x00, 0x00),
            1548: (0x00, 0x00, 0x00),
            1557: (0x00, 0x00, 0x00),
            15616: (0x00, 0x00, 0x00),
            1561: (0x00, 0x00, 0x00),
            15623: (0x00, 0x00, 0x00),
            1564: (0x00, 0x00, 0x00),
            15658: (0x00, 0x00, 0x00),
            15662: (0x00, 0x00, 0x00),
            15671: (0x00, 0x00, 0x00),
            15676: (0x00, 0x00, 0x00),
            15677: (0x00, 0x00, 0x00),
            15679: (0x00, 0x00, 0x00),
            15697: (0x00, 0x00, 0x00),
            15703: (0x00, 0x00, 0x00),
            1574: (0x00, 0x00, 0x00),
            1579: (0x00, 0x00, 0x00),
            1582: (0x00, 0x00, 0x00),
            15872: (0x00, 0x00, 0x00),
            15881: (0x00, 0x00, 0x00),
            15882: (0x00, 0x00, 0x00),
            15883: (0x00, 0x00, 0x00),
            15891: (0x00, 0x00, 0x00),
            15900: (0x00, 0x00, 0x00),
            15904: (0x00, 0x00, 0x00),
            15906: (0x00, 0x00, 0x00),
            15913: (0x00, 0x00, 0x00),
            15914: (0x00, 0x00, 0x00),
            15917: (0x00, 0x00, 0x00),
            15918: (0x00, 0x00, 0x00),
            1591: (0x00, 0x00, 0x00),
            15922: (0x00, 0x00, 0x00),
            15924: (0x00, 0x00, 0x00),
            15927: (0x00, 0x00, 0x00),
            15932: (0x00, 0x00, 0x00),
            15933: (0x00, 0x00, 0x00),
            15934: (0x00, 0x00, 0x00),
            1593: (0x00, 0x00, 0x00),
            15943: (0x00, 0x00, 0x00),
            15949: (0x00, 0x00, 0x00),
            1594: (0x00, 0x00, 0x00),
            15950: (0x00, 0x00, 0x00),
            1595: (0x00, 0x00, 0x00),
            1599: (0x00, 0x00, 0x00),
            1606: (0x00, 0x00, 0x00),
            1607: (0x00, 0x00, 0x00),
            16128: (0x00, 0x00, 0x00),
            16134: (0x00, 0x00, 0x00),
            16135: (0x00, 0x00, 0x00),
            16137: (0x00, 0x00, 0x00),
            16145: (0x00, 0x00, 0x00),
            1614: (0x00, 0x00, 0x00),
            16162: (0x00, 0x00, 0x00),
            16170: (0x00, 0x00, 0x00),
            16174: (0x00, 0x00, 0x00),
            16175: (0x00, 0x00, 0x00),
            1617: (0x00, 0x00, 0x00),
            16191: (0x00, 0x00, 0x00),
            16205: (0x00, 0x00, 0x00),
            16207: (0x00, 0x00, 0x00),
            16209: (0x00, 0x00, 0x00),
            16210: (0x00, 0x00, 0x00),
            16212: (0x00, 0x00, 0x00),
            16455: (0x00, 0x00, 0x00),
            16648: (0x00, 0x00, 0x00),
            16896: (0x00, 0x00, 0x00),
            16963: (0x00, 0x00, 0x00),
            16977: (0x00, 0x00, 0x00),
            16: (0x00, 0x00, 0x00),
            17152: (0x00, 0x00, 0x00),
            17219: (0x00, 0x00, 0x00),
            17408: (0x00, 0x00, 0x00),
            17415: (0x00, 0x00, 0x00),
            17417: (0x00, 0x00, 0x00),
            17425: (0x00, 0x00, 0x00),
            17447: (0x00, 0x00, 0x00),
            17450: (0x00, 0x00, 0x00),
            17477: (0x00, 0x00, 0x00),
            17703: (0x00, 0x00, 0x00),
            17705: (0x00, 0x00, 0x00),
            17724: (0x00, 0x00, 0x00),
            17726: (0x00, 0x00, 0x00),
            17732: (0x00, 0x00, 0x00),
            17738: (0x00, 0x00, 0x00),
            17928: (0x00, 0x00, 0x00),
            1792: (0x00, 0x00, 0x00),
            17939: (0x00, 0x00, 0x00),
            17941: (0x00, 0x00, 0x00),
            17944: (0x00, 0x00, 0x00),
            17948: (0x00, 0x00, 0x00),
            1796: (0x00, 0x00, 0x00),
            1798: (0x00, 0x00, 0x00),
            17990: (0x00, 0x00, 0x00),
            1799: (0x00, 0x00, 0x00),
            17: (0x00, 0x00, 0x00),
            1803: (0x00, 0x00, 0x00),
            1807: (0x00, 0x00, 0x00),
            1809: (0x00, 0x00, 0x00),
            1811: (0x00, 0x00, 0x00),
            18176: (0x00, 0x00, 0x00),
            18182: (0x00, 0x00, 0x00),
            18184: (0x00, 0x00, 0x00),
            18195: (0x00, 0x00, 0x00),
            18196: (0x00, 0x00, 0x00),
            18197: (0x00, 0x00, 0x00),
            18204: (0x00, 0x00, 0x00),
            18219: (0x00, 0x00, 0x00),
            18226: (0x00, 0x00, 0x00),
            18235: (0x00, 0x00, 0x00),
            18246: (0x00, 0x00, 0x00),
            18247: (0x00, 0x00, 0x00),
            18253: (0x00, 0x00, 0x00),
            18254: (0x00, 0x00, 0x00),
            1825: (0x00, 0x00, 0x00),
            1826: (0x00, 0x00, 0x00),
            1831: (0x00, 0x00, 0x00),
            1834: (0x00, 0x00, 0x00),
            1835: (0x00, 0x00, 0x00),
            1838: (0x00, 0x00, 0x00),
            1842: (0x00, 0x00, 0x00),
            18432: (0x00, 0x00, 0x00),
            18439: (0x00, 0x00, 0x00),
            18449: (0x00, 0x00, 0x00),
            18474: (0x00, 0x00, 0x00),
            1847: (0x00, 0x00, 0x00),
            18509: (0x00, 0x00, 0x00),
            1850: (0x00, 0x00, 0x00),
            1851: (0x00, 0x00, 0x00),
            1855: (0x00, 0x00, 0x00),
            18699: (0x00, 0x00, 0x00),
            1869: (0x00, 0x00, 0x00),
            1871: (0x00, 0x00, 0x00),
            18730: (0x00, 0x00, 0x00),
            18743: (0x00, 0x00, 0x00),
            18746: (0x00, 0x00, 0x00),
            18749: (0x00, 0x00, 0x00),
            18765: (0x00, 0x00, 0x00),
            1876: (0x00, 0x00, 0x00),
            1879: (0x00, 0x00, 0x00),
            18944: (0x00, 0x00, 0x00),
            18953: (0x00, 0x00, 0x00),
            18961: (0x00, 0x00, 0x00),
            18982: (0x00, 0x00, 0x00),
            18983: (0x00, 0x00, 0x00),
            18989: (0x00, 0x00, 0x00),
            19013: (0x00, 0x00, 0x00),
            19200: (0x00, 0x00, 0x00),
            19208: (0x00, 0x00, 0x00),
            19211: (0x00, 0x00, 0x00),
            19228: (0x00, 0x00, 0x00),
            19245: (0x00, 0x00, 0x00),
            19280: (0x00, 0x00, 0x00),
            19283: (0x00, 0x00, 0x00),
            19712: (0x00, 0x00, 0x00),
            19715: (0x00, 0x00, 0x00),
            19719: (0x00, 0x00, 0x00),
            19721: (0x00, 0x00, 0x00),
            19722: (0x00, 0x00, 0x00),
            19723: (0x00, 0x00, 0x00),
            19728: (0x00, 0x00, 0x00),
            19729: (0x00, 0x00, 0x00),
            19731: (0x00, 0x00, 0x00),
            19734: (0x00, 0x00, 0x00),
            19740: (0x00, 0x00, 0x00),
            19749: (0x00, 0x00, 0x00),
            19751: (0x00, 0x00, 0x00),
            19752: (0x00, 0x00, 0x00),
            19753: (0x00, 0x00, 0x00),
            19754: (0x00, 0x00, 0x00),
            19757: (0x00, 0x00, 0x00),
            19758: (0x00, 0x00, 0x00),
            19767: (0x00, 0x00, 0x00),
            19774: (0x00, 0x00, 0x00),
            19781: (0x00, 0x00, 0x00),
            19789: (0x00, 0x00, 0x00),
            19793: (0x00, 0x00, 0x00),
            19796: (0x00, 0x00, 0x00),
            19799: (0x00, 0x00, 0x00),
            19968: (0x00, 0x00, 0x00),
            19974: (0x00, 0x00, 0x00),
            19986: (0x00, 0x00, 0x00),
            19988: (0x00, 0x00, 0x00),
            19989: (0x00, 0x00, 0x00),
            19996: (0x00, 0x00, 0x00),
            19: (0x00, 0x00, 0x00),
            20027: (0x00, 0x00, 0x00),
            20030: (0x00, 0x00, 0x00),
            20039: (0x00, 0x00, 0x00),
            20046: (0x00, 0x00, 0x00),
            20224: (0x00, 0x00, 0x00),
            20231: (0x00, 0x00, 0x00),
            20241: (0x00, 0x00, 0x00),
            20287: (0x00, 0x00, 0x00),
            20480: (0x00, 0x00, 0x00),
            2048: (0x00, 0x00, 0x00),
            20513: (0x00, 0x00, 0x00),
            20521: (0x00, 0x00, 0x00),
            20542: (0x00, 0x00, 0x00),
            20555: (0x00, 0x00, 0x00),
            20557: (0x00, 0x00, 0x00),
            20560: (0x00, 0x00, 0x00),
            20562: (0x00, 0x00, 0x00),
            20563: (0x00, 0x00, 0x00),
            2056: (0x00, 0x00, 0x00),
            2062: (0x00, 0x00, 0x00),
            2065: (0x00, 0x00, 0x00),
            2067: (0x00, 0x00, 0x00),
            20736: (0x00, 0x00, 0x00),
            20739: (0x00, 0x00, 0x00),
            2073: (0x00, 0x00, 0x00),
            20743: (0x00, 0x00, 0x00),
            20745: (0x00, 0x00, 0x00),
            20747: (0x00, 0x00, 0x00),
            20752: (0x00, 0x00, 0x00),
            20753: (0x00, 0x00, 0x00),
            20757: (0x00, 0x00, 0x00),
            20764: (0x00, 0x00, 0x00),
            2076: (0x00, 0x00, 0x00),
            20776: (0x00, 0x00, 0x00),
            20779: (0x00, 0x00, 0x00),
            20782: (0x00, 0x00, 0x00),
            20791: (0x00, 0x00, 0x00),
            20794: (0x00, 0x00, 0x00),
            20798: (0x00, 0x00, 0x00),
            2080: (0x00, 0x00, 0x00),
            20817: (0x00, 0x00, 0x00),
            20819: (0x00, 0x00, 0x00),
            20820: (0x00, 0x00, 0x00),
            2082: (0x00, 0x00, 0x00),
            2084: (0x00, 0x00, 0x00),
            2091: (0x00, 0x00, 0x00),
            2097: (0x00, 0x00, 0x00),
            20992: (0x00, 0x00, 0x00),
            20: (0x00, 0x00, 0x00),
            21006: (0x00, 0x00, 0x00),
            2101: (0x00, 0x00, 0x00),
            21020: (0x00, 0x00, 0x00),
            2102: (0x00, 0x00, 0x00),
            21035: (0x00, 0x00, 0x00),
            21037: (0x00, 0x00, 0x00),
            2103: (0x00, 0x00, 0x00),
            21065: (0x00, 0x00, 0x00),
            2110: (0x00, 0x00, 0x00),
            2113: (0x00, 0x00, 0x00),
            2116: (0x00, 0x00, 0x00),
            2118: (0x00, 0x00, 0x00),
            2119: (0x00, 0x00, 0x00),
            21248: (0x00, 0x00, 0x00),
            21276: (0x00, 0x00, 0x00),
            21290: (0x00, 0x00, 0x00),
            21308: (0x00, 0x00, 0x00),
            2130: (0x00, 0x00, 0x00),
            21323: (0x00, 0x00, 0x00),
            21328: (0x00, 0x00, 0x00),
            21504: (0x00, 0x00, 0x00),
            21518: (0x00, 0x00, 0x00),
            21521: (0x00, 0x00, 0x00),
            21532: (0x00, 0x00, 0x00),
            21546: (0x00, 0x00, 0x00),
            21559: (0x00, 0x00, 0x00),
            21571: (0x00, 0x00, 0x00),
            21581: (0x00, 0x00, 0x00),
            21585: (0x00, 0x00, 0x00),
            21760: (0x00, 0x00, 0x00),
            21771: (0x00, 0x00, 0x00),
            21774: (0x00, 0x00, 0x00),
            21793: (0x00, 0x00, 0x00),
            21794: (0x00, 0x00, 0x00),
            21799: (0x00, 0x00, 0x00),
            21805: (0x00, 0x00, 0x00),
            21835: (0x00, 0x00, 0x00),
            21837: (0x00, 0x00, 0x00),
            21845: (0x00, 0x00, 0x00),
            22272: (0x00, 0x00, 0x00),
            22281: (0x00, 0x00, 0x00),
            22314: (0x00, 0x00, 0x00),
            22318: (0x00, 0x00, 0x00),
            22327: (0x00, 0x00, 0x00),
            22335: (0x00, 0x00, 0x00),
            22349: (0x00, 0x00, 0x00),
            22359: (0x00, 0x00, 0x00),
            2304: (0x00, 0x00, 0x00),
            2307: (0x00, 0x00, 0x00),
            2310: (0x00, 0x00, 0x00),
            2312: (0x00, 0x00, 0x00),
            2313: (0x00, 0x00, 0x00),
            2315: (0x00, 0x00, 0x00),
            2321: (0x00, 0x00, 0x00),
            2332: (0x00, 0x00, 0x00),
            2337: (0x00, 0x00, 0x00),
            2342: (0x00, 0x00, 0x00),
            2345: (0x00, 0x00, 0x00),
            2346: (0x00, 0x00, 0x00),
            2347: (0x00, 0x00, 0x00),
            2349: (0x00, 0x00, 0x00),
            2350: (0x00, 0x00, 0x00),
            2351: (0x00, 0x00, 0x00),
            2359: (0x00, 0x00, 0x00),
            2364: (0x00, 0x00, 0x00),
            2366: (0x00, 0x00, 0x00),
            2367: (0x00, 0x00, 0x00),
            2373: (0x00, 0x00, 0x00),
            2381: (0x00, 0x00, 0x00),
            2384: (0x00, 0x00, 0x00),
            2385: (0x00, 0x00, 0x00),
            2391: (0x00, 0x00, 0x00),
            2560: (0x00, 0x00, 0x00),
            2569: (0x00, 0x00, 0x00),
            256: (0x00, 0x00, 0x00),
            2588: (0x00, 0x00, 0x00),
            2605: (0x00, 0x00, 0x00),
            2642: (0x00, 0x00, 0x00),
            2644: (0x00, 0x00, 0x00),
            2816: (0x00, 0x00, 0x00),
            2819: (0x00, 0x00, 0x00),
            2823: (0x00, 0x00, 0x00),
            2825: (0x00, 0x00, 0x00),
            2826: (0x00, 0x00, 0x00),
            2827: (0x00, 0x00, 0x00),
            2830: (0x00, 0x00, 0x00),
            2831: (0x00, 0x00, 0x00),
            2832: (0x00, 0x00, 0x00),
            2833: (0x00, 0x00, 0x00),
            2839: (0x00, 0x00, 0x00),
            2841: (0x00, 0x00, 0x00),
            2842: (0x00, 0x00, 0x00),
            2844: (0x00, 0x00, 0x00),
            2848: (0x00, 0x00, 0x00),
            2849: (0x00, 0x00, 0x00),
            2850: (0x00, 0x00, 0x00),
            2853: (0x00, 0x00, 0x00),
            2854: (0x00, 0x00, 0x00),
            2855: (0x00, 0x00, 0x00),
            2856: (0x00, 0x00, 0x00),
            2857: (0x00, 0x00, 0x00),
            2858: (0x00, 0x00, 0x00),
            2859: (0x00, 0x00, 0x00),
            2861: (0x00, 0x00, 0x00),
            2863: (0x00, 0x00, 0x00),
            2871: (0x00, 0x00, 0x00),
            2874: (0x00, 0x00, 0x00),
            2883: (0x00, 0x00, 0x00),
            2885: (0x00, 0x00, 0x00),
            2889: (0x00, 0x00, 0x00),
            2891: (0x00, 0x00, 0x00),
            2893: (0x00, 0x00, 0x00),
            2894: (0x00, 0x00, 0x00),
            2896: (0x00, 0x00, 0x00),
            2897: (0x00, 0x00, 0x00),
            2898: (0x00, 0x00, 0x00),
            2899: (0x00, 0x00, 0x00),
            28: (0x00, 0x00, 0x00),
            2901: (0x00, 0x00, 0x00),
            3072: (0x00, 0x00, 0x00),
            3075: (0x00, 0x00, 0x00),
            3084: (0x00, 0x00, 0x00),
            3100: (0x00, 0x00, 0x00),
            3127: (0x00, 0x00, 0x00),
            3149: (0x00, 0x00, 0x00),
            3152: (0x00, 0x00, 0x00),
            3153: (0x00, 0x00, 0x00),
            32: (0x00, 0x00, 0x00),
            3328: (0x00, 0x00, 0x00),
            33: (0x00, 0x00, 0x00),
            3408: (0x00, 0x00, 0x00),
            34: (0x00, 0x00, 0x00),
            3584: (0x00, 0x00, 0x00),
            3592: (0x00, 0x00, 0x00),
            3593: (0x00, 0x00, 0x00),
            3598: (0x00, 0x00, 0x00),
            35: (0x00, 0x00, 0x00),
            3618: (0x00, 0x00, 0x00),
            3622: (0x00, 0x00, 0x00),
            3623: (0x00, 0x00, 0x00),
            3629: (0x00, 0x00, 0x00),
            3639: (0x00, 0x00, 0x00),
            3646: (0x00, 0x00, 0x00),
            3659: (0x00, 0x00, 0x00),
            3661: (0x00, 0x00, 0x00),
            3668: (0x00, 0x00, 0x00),
            3840: (0x00, 0x00, 0x00),
            3849: (0x00, 0x00, 0x00),
            3856: (0x00, 0x00, 0x00),
            3857: (0x00, 0x00, 0x00),
            3878: (0x00, 0x00, 0x00),
            3885: (0x00, 0x00, 0x00),
            4096: (0x00, 0x00, 0x00),
            4099: (0x00, 0x00, 0x00),
            4104: (0x00, 0x00, 0x00),
            4105: (0x00, 0x00, 0x00),
            4108: (0x00, 0x00, 0x00),
            4110: (0x00, 0x00, 0x00),
            4112: (0x00, 0x00, 0x00),
            4113: (0x00, 0x00, 0x00),
            4114: (0x00, 0x00, 0x00),
            4124: (0x00, 0x00, 0x00),
            4137: (0x00, 0x00, 0x00),
            4138: (0x00, 0x00, 0x00),
            4142: (0x00, 0x00, 0x00),
            4143: (0x00, 0x00, 0x00),
            4151: (0x00, 0x00, 0x00),
            4154: (0x00, 0x00, 0x00),
            4156: (0x00, 0x00, 0x00),
            4157: (0x00, 0x00, 0x00),
            4163: (0x00, 0x00, 0x00),
            4173: (0x00, 0x00, 0x00),
            4177: (0x00, 0x00, 0x00),
            4180: (0x00, 0x00, 0x00),
            41: (0x00, 0x00, 0x00),
            42: (0x00, 0x00, 0x00),
            4352: (0x00, 0x00, 0x00),
            4353: (0x00, 0x00, 0x00),
            4355: (0x00, 0x00, 0x00),
            4356: (0x00, 0x00, 0x00),
            4358: (0x00, 0x00, 0x00),
            4359: (0x00, 0x00, 0x00),
            4360: (0x00, 0x00, 0x00),
            4361: (0x00, 0x00, 0x00),
            4363: (0x00, 0x00, 0x00),
            4364: (0x00, 0x00, 0x00),
            4366: (0x00, 0x00, 0x00),
            4368: (0x00, 0x00, 0x00),
            4369: (0x00, 0x00, 0x00),
            4370: (0x00, 0x00, 0x00),
            4373: (0x00, 0x00, 0x00),
            4375: (0x00, 0x00, 0x00),
            4379: (0x00, 0x00, 0x00),
            4380: (0x00, 0x00, 0x00),
            4384: (0x00, 0x00, 0x00),
            4385: (0x00, 0x00, 0x00),
            4386: (0x00, 0x00, 0x00),
            4389: (0x00, 0x00, 0x00),
            4392: (0x00, 0x00, 0x00),
            4393: (0x00, 0x00, 0x00),
            4394: (0x00, 0x00, 0x00),
            4397: (0x00, 0x00, 0x00),
            4398: (0x00, 0x00, 0x00),
            4399: (0x00, 0x00, 0x00),
            4401: (0x00, 0x00, 0x00),
            4405: (0x00, 0x00, 0x00),
            4406: (0x00, 0x00, 0x00),
            4407: (0x00, 0x00, 0x00),
            4410: (0x00, 0x00, 0x00),
            4412: (0x00, 0x00, 0x00),
            4413: (0x00, 0x00, 0x00),
            4419: (0x00, 0x00, 0x00),
            4421: (0x00, 0x00, 0x00),
            4423: (0x00, 0x00, 0x00),
            4425: (0x00, 0x00, 0x00),
            4429: (0x00, 0x00, 0x00),
            4431: (0x00, 0x00, 0x00),
            4432: (0x00, 0x00, 0x00),
            4433: (0x00, 0x00, 0x00),
            4436: (0x00, 0x00, 0x00),
            4439: (0x00, 0x00, 0x00),
            45: (0x00, 0x00, 0x00),
            4608: (0x00, 0x00, 0x00),
            4617: (0x00, 0x00, 0x00),
            4625: (0x00, 0x00, 0x00),
            4626: (0x00, 0x00, 0x00),
            4634: (0x00, 0x00, 0x00),
            4636: (0x00, 0x00, 0x00),
            4642: (0x00, 0x00, 0x00),
            4654: (0x00, 0x00, 0x00),
            4666: (0x00, 0x00, 0x00),
            4689: (0x00, 0x00, 0x00),
            4864: (0x00, 0x00, 0x00),
            4868: (0x00, 0x00, 0x00),
            4870: (0x00, 0x00, 0x00),
            4871: (0x00, 0x00, 0x00),
            4872: (0x00, 0x00, 0x00),
            4873: (0x00, 0x00, 0x00),
            4881: (0x00, 0x00, 0x00),
            4883: (0x00, 0x00, 0x00),
            4885: (0x00, 0x00, 0x00),
            4891: (0x00, 0x00, 0x00),
            4892: (0x00, 0x00, 0x00),
            4897: (0x00, 0x00, 0x00),
            4898: (0x00, 0x00, 0x00),
            4914: (0x00, 0x00, 0x00),
            4919: (0x00, 0x00, 0x00),
            4923: (0x00, 0x00, 0x00),
            4926: (0x00, 0x00, 0x00),
            4934: (0x00, 0x00, 0x00),
            4935: (0x00, 0x00, 0x00),
            4941: (0x00, 0x00, 0x00),
            5120: (0x00, 0x00, 0x00),
            512: (0x00, 0x00, 0x00),
            5141: (0x00, 0x00, 0x00),
            5148: (0x00, 0x00, 0x00),
            5163: (0x00, 0x00, 0x00),
            5179: (0x00, 0x00, 0x00),
            5191: (0x00, 0x00, 0x00),
            5197: (0x00, 0x00, 0x00),
            5198: (0x00, 0x00, 0x00),
            5376: (0x00, 0x00, 0x00),
            5382: (0x00, 0x00, 0x00),
            5383: (0x00, 0x00, 0x00),
            5384: (0x00, 0x00, 0x00),
            5395: (0x00, 0x00, 0x00),
            5396: (0x00, 0x00, 0x00),
            5397: (0x00, 0x00, 0x00),
            5404: (0x00, 0x00, 0x00),
            5408: (0x00, 0x00, 0x00),
            5409: (0x00, 0x00, 0x00),
            5418: (0x00, 0x00, 0x00),
            5419: (0x00, 0x00, 0x00),
            5421: (0x00, 0x00, 0x00),
            5435: (0x00, 0x00, 0x00),
            5441: (0x00, 0x00, 0x00),
            5447: (0x00, 0x00, 0x00),
            5458: (0x00, 0x00, 0x00),
            55: (0x00, 0x00, 0x00),
            5677: (0x00, 0x00, 0x00),
            574: (0x00, 0x00, 0x00),
            5896: (0x00, 0x00, 0x00),
            589: (0x00, 0x00, 0x00),
            58: (0x00, 0x00, 0x00),
            5916: (0x00, 0x00, 0x00),
            5922: (0x00, 0x00, 0x00),
            5933: (0x00, 0x00, 0x00),
            59: (0x00, 0x00, 0x00),
            60: (0x00, 0x00, 0x00),
            6144: (0x00, 0x00, 0x00),
            6152: (0x00, 0x00, 0x00),
            6153: (0x00, 0x00, 0x00),
            6163: (0x00, 0x00, 0x00),
            6168: (0x00, 0x00, 0x00),
            6171: (0x00, 0x00, 0x00),
            6172: (0x00, 0x00, 0x00),
            6176: (0x00, 0x00, 0x00),
            6177: (0x00, 0x00, 0x00),
            6178: (0x00, 0x00, 0x00),
            6181: (0x00, 0x00, 0x00),
            6190: (0x00, 0x00, 0x00),
            6198: (0x00, 0x00, 0x00),
            6199: (0x00, 0x00, 0x00),
            6203: (0x00, 0x00, 0x00),
            6205: (0x00, 0x00, 0x00),
            6206: (0x00, 0x00, 0x00),
            6214: (0x00, 0x00, 0x00),
            62: (0x00, 0x00, 0x00),
            6400: (0x00, 0x00, 0x00),
            6403: (0x00, 0x00, 0x00),
            6409: (0x00, 0x00, 0x00),
            6439: (0x00, 0x00, 0x00),
            6445: (0x00, 0x00, 0x00),
            6455: (0x00, 0x00, 0x00),
            6474: (0x00, 0x00, 0x00),
            6477: (0x00, 0x00, 0x00),
            6481: (0x00, 0x00, 0x00),
            6484: (0x00, 0x00, 0x00),
            6656: (0x00, 0x00, 0x00),
            67: (0x00, 0x00, 0x00),
            6912: (0x00, 0x00, 0x00),
            6920: (0x00, 0x00, 0x00),
            6946: (0x00, 0x00, 0x00),
            6962: (0x00, 0x00, 0x00),
            6: (0x00, 0x00, 0x00),
            70: (0x00, 0x00, 0x00),
            7168: (0x00, 0x00, 0x00),
            7174: (0x00, 0x00, 0x00),
            7176: (0x00, 0x00, 0x00),
            7177: (0x00, 0x00, 0x00),
            7178: (0x00, 0x00, 0x00),
            7179: (0x00, 0x00, 0x00),
            7183: (0x00, 0x00, 0x00),
            7184: (0x00, 0x00, 0x00),
            7185: (0x00, 0x00, 0x00),
            7188: (0x00, 0x00, 0x00),
            7189: (0x00, 0x00, 0x00),
            7196: (0x00, 0x00, 0x00),
            71: (0x00, 0x00, 0x00),
            7200: (0x00, 0x00, 0x00),
            7202: (0x00, 0x00, 0x00),
            7209: (0x00, 0x00, 0x00),
            7210: (0x00, 0x00, 0x00),
            7211: (0x00, 0x00, 0x00),
            7213: (0x00, 0x00, 0x00),
            7218: (0x00, 0x00, 0x00),
            7227: (0x00, 0x00, 0x00),
            7229: (0x00, 0x00, 0x00),
            7230: (0x00, 0x00, 0x00),
            7237: (0x00, 0x00, 0x00),
            7238: (0x00, 0x00, 0x00),
            7239: (0x00, 0x00, 0x00),
            7240: (0x00, 0x00, 0x00),
            7243: (0x00, 0x00, 0x00),
            7245: (0x00, 0x00, 0x00),
            7246: (0x00, 0x00, 0x00),
            7248: (0x00, 0x00, 0x00),
            7250: (0x00, 0x00, 0x00),
            7251: (0x00, 0x00, 0x00),
            7424: (0x00, 0x00, 0x00),
            75: (0x00, 0x00, 0x00),
            7680: (0x00, 0x00, 0x00),
            768: (0x00, 0x00, 0x00),
            7707: (0x00, 0x00, 0x00),
            7714: (0x00, 0x00, 0x00),
            771: (0x00, 0x00, 0x00),
            775: (0x00, 0x00, 0x00),
            776: (0x00, 0x00, 0x00),
            777: (0x00, 0x00, 0x00),
            779: (0x00, 0x00, 0x00),
            77: (0x00, 0x00, 0x00),
            784: (0x00, 0x00, 0x00),
            785: (0x00, 0x00, 0x00),
            7943: (0x00, 0x00, 0x00),
            796: (0x00, 0x00, 0x00),
            79: (0x00, 0x00, 0x00),
            7: (0xff, 0xff, 0xff),
            800: (0x00, 0x00, 0x00),
            802: (0x00, 0x00, 0x00),
            809: (0x00, 0x00, 0x00),
            80: (0x00, 0x00, 0x00),
            810: (0x00, 0x00, 0x00),
            813: (0x00, 0x00, 0x00),
            814: (0x00, 0x00, 0x00),
            8192: (0x00, 0x00, 0x00),
            8199: (0x00, 0x00, 0x00),
            819: (0x00, 0x00, 0x00),
            81: (0x00, 0x00, 0x00),
            8202: (0x00, 0x00, 0x00),
            8212: (0x00, 0x00, 0x00),
            8219: (0x00, 0x00, 0x00),
            8224: (0x00, 0x00, 0x00),
            8226: (0x00, 0x00, 0x00),
            8227: (0x00, 0x00, 0x00),
            823: (0x00, 0x00, 0x00),
            8242: (0x00, 0x00, 0x00),
            8247: (0x00, 0x00, 0x00),
            8254: (0x00, 0x00, 0x00),
            8263: (0x00, 0x00, 0x00),
            8269: (0x00, 0x00, 0x00),
            826: (0x00, 0x00, 0x00),
            8270: (0x00, 0x00, 0x00),
            8273: (0x00, 0x00, 0x00),
            829: (0x00, 0x00, 0x00),
            831: (0x00, 0x00, 0x00),
            839: (0x00, 0x00, 0x00),
            8454: (0x00, 0x00, 0x00),
            845: (0x00, 0x00, 0x00),
            8467: (0x00, 0x00, 0x00),
            8481: (0x00, 0x00, 0x00),
            8482: (0x00, 0x00, 0x00),
            848: (0x00, 0x00, 0x00),
            849: (0x00, 0x00, 0x00),
            84: (0x00, 0x00, 0x00),
            8507: (0x00, 0x00, 0x00),
            8519: (0x00, 0x00, 0x00),
            8526: (0x00, 0x00, 0x00),
            8528: (0x00, 0x00, 0x00),
            855: (0x00, 0x00, 0x00),
            8704: (0x00, 0x00, 0x00),
            8711: (0x00, 0x00, 0x00),
            8713: (0x00, 0x00, 0x00),
            8715: (0x00, 0x00, 0x00),
            8724: (0x00, 0x00, 0x00),
            8731: (0x00, 0x00, 0x00),
            8732: (0x00, 0x00, 0x00),
            8736: (0x00, 0x00, 0x00),
            8737: (0x00, 0x00, 0x00),
            8738: (0x00, 0x00, 0x00),
            8739: (0x00, 0x00, 0x00),
            8742: (0x00, 0x00, 0x00),
            8745: (0x00, 0x00, 0x00),
            8746: (0x00, 0x00, 0x00),
            8747: (0x00, 0x00, 0x00),
            8749: (0x00, 0x00, 0x00),
            8754: (0x00, 0x00, 0x00),
            8764: (0x00, 0x00, 0x00),
            8775: (0x00, 0x00, 0x00),
            8781: (0x00, 0x00, 0x00),
            8782: (0x00, 0x00, 0x00),
            8789: (0x00, 0x00, 0x00),
            8960: (0x00, 0x00, 0x00),
            8967: (0x00, 0x00, 0x00),
            8992: (0x00, 0x00, 0x00),
            8994: (0x00, 0x00, 0x00),
            8: (0x00, 0x00, 0x00),
            9010: (0x00, 0x00, 0x00),
            9224: (0x00, 0x00, 0x00),
            9250: (0x00, 0x00, 0x00),
            9261: (0x00, 0x00, 0x00),
            9265: (0x00, 0x00, 0x00),
            9472: (0x00, 0x00, 0x00),
            9481: (0x00, 0x00, 0x00),
            9483: (0x00, 0x00, 0x00),
            9495: (0x00, 0x00, 0x00),
            9496: (0x00, 0x00, 0x00),
            9506: (0x00, 0x00, 0x00),
            9512: (0x00, 0x00, 0x00),
            9547: (0x00, 0x00, 0x00),
            9552: (0x00, 0x00, 0x00),
            9555: (0x00, 0x00, 0x00),
            9557: (0x00, 0x00, 0x00),
            9728: (0x00, 0x00, 0x00),
            9734: (0x00, 0x00, 0x00),
            9739: (0x00, 0x00, 0x00),
            9756: (0x00, 0x00, 0x00),
            9761: (0x00, 0x00, 0x00),
            9762: (0x00, 0x00, 0x00),
            9774: (0x00, 0x00, 0x00),
            9790: (0x00, 0x00, 0x00),
            9797: (0x00, 0x00, 0x00),
            9808: (0x00, 0x00, 0x00),
            9809: (0x00, 0x00, 0x00),
            9984: (0x00, 0x00, 0x00),
            9987: (0x00, 0x00, 0x00),
            9992: (0x00, 0x00, 0x00),
            9993: (0x00, 0x00, 0x00),
            9995: (0x00, 0x00, 0x00),
            9998: (0x00, 0x00, 0x00),
            9: (0x00, 0x00, 0x00),
        }

        gray_scale_gradient = [
            [0.00, 0x00, 0x00, 0x00],
            [1.00, 0xff, 0xff, 0xff]
        ]

        filename = os.path.splitext(path)[0]
        size = 0x100

        if is_gray_scale:
            terrain_height_map_gradient = gray_scale_gradient
            water_height_map_gradient = gray_scale_gradient
            # water_depth_map_gradient = gray_scale_gradient
            grass_map_gradient = gray_scale_gradient
            mate_map_gradient = gray_scale_gradient

        if is_terrain:
            if os.path.isfile(filename + ".hght"):
                self.create_map(filename, ".hght", size, terrain_height_map_gradient, 0, 1)
            else:
                print("\033[93mSkipping " + filename + ".hght because it does not exist\033[0m")

        if is_water:
            if os.path.isfile(filename + ".water.extm"):
                self.create_map(filename, ".water.extm", size, water_height_map_gradient, 6, 4)
            else:
                print("\033[93mSkipping " + filename + ".water.extm because it does not exist\033[0m")

        if is_grass:
            if os.path.isfile(filename + ".grass.extm"):
                self.create_map(filename, ".grass.extm", size, grass_map_gradient, 2, 4)
            else:
                print("\033[93mSkipping " + filename + ".grass.extm because it does not exist\033[0m")

        if is_material:
            if os.path.isfile(filename + ".mate"):
                self.create_map(filename, ".mate", size, mate_map_gradient, 2, 1, self.COLOR_MODE_TABLE)
            else:
                print("\033[93mSkipping " + filename + ".mate because it does not exist\033[0m")

        if is_composite:
            if os.path.isfile(filename + ".hght") and os.path.isfile(filename + ".water.extm"):
                self.create_composite_map(filename, terrain_height_map_gradient, water_depth_map_gradient)
            else:
                print("\033[93mSkipping composite because .hght or .water.extm do not exist\033[0m")

        return

    def create_map(self, filename, extension=".hght", size=0x100, gradient=None, padding=0, block_size=1,
                   color_mode=None):
        if gradient is None:
            gradient = [
                [0.00, 0x00, 0x00, 0x00],
                [1.00, 0xff, 0xff, 0xff]
            ]

        if color_mode is None:
            color_mode = self.COLOR_MODE_GRADIENT

        print("Reading " + os.path.basename(filename) + extension + " data...")
        data = open(filename + extension, 'rb')
        height_map = self.get_height_map(data, 1, size, padding, block_size)

        print("Creating " + os.path.basename(filename) + extension + " map...")
        map_image = self.get_height_map_image(height_map, size, gradient, color_mode)

        print("Saving " + os.path.basename(filename) + extension + ".png...")
        directory = os.path.dirname(filename + extension) + "\\maps\\"
        if not os.path.exists(directory):
            os.makedirs(directory)
        map_image.save(directory + os.path.basename(filename) + extension + ".png")

    @staticmethod
    def get_height_map(data, height_max=0xffff, size=0x100, padding=0, block_size=1):
        height_map = [any] * size * size

        for y in range(0, int(size / block_size)):
            for x in range(0, int(size / block_size)):
                height = int.from_bytes(data.read(2), 'little')
                data.read(padding)

                for y2 in range(0, block_size):
                    for x2 in range(0, block_size):
                        height_map[(y * block_size + y2) * size + x * block_size + x2] = height / height_max

        return height_map

    def get_height_map_image(self, height_map, size=0x100, color_gradient=None, color_mode=None):
        height_map_image = Image.new("RGB", (size, size))

        if color_gradient is None:
            color_gradient = [
                [0.00, 0x00, 0x00, 0x00],
                [1.00, 0xff, 0xff, 0xff]
            ]

        if color_mode is None:
            color_mode = self.COLOR_MODE_GRADIENT

        for y in range(0, size):
            for x in range(0, size):
                height = height_map[y * size + x]

                if color_mode == self.COLOR_MODE_TABLE:
                    color = self.lookup_color_table(height, color_gradient)
                else:
                    color = self.lerp_rgb(self.get_height_color(height, color_gradient), height)

                height_map_image.putpixel((x, y), color)

        return height_map_image

    def create_composite_map(self, filename, terrain_gradient, water_gradient):
        size = 0x100
        composite_map_image = Image.new("RGB", (size, size))

        print("Reading composite data...")
        terrain = open(filename + '.hght', 'rb')
        water = open(filename + '.water.extm', 'rb')

        print("Creating composite map...")
        terrain_height_map = self.get_height_map(terrain, 0xffff, size, 0, 1)
        water_height_map = self.get_height_map(water, 0xffff, size, 6, 4)

        for y in range(0, size):
            for x in range(0, size):
                terrain_height = terrain_height_map[y * size + x]
                water_height = water_height_map[y * size + x]

                if water_height > terrain_height:
                    depth = water_height - terrain_height
                    color = self.lerp_rgb(self.get_height_color(depth, water_gradient), depth)
                else:
                    color = self.lerp_rgb(self.get_height_color(terrain_height, terrain_gradient), terrain_height)
                composite_map_image.putpixel((x, y), color)

        print("Saving " + os.path.basename(filename) + ".composite.png...")
        directory = os.path.dirname(filename + '.hght') + "\\maps\\"
        if not os.path.exists(directory):
            os.makedirs(directory)

        composite_map_image.save(directory + os.path.basename(filename) + ".composite.png")

    @staticmethod
    def lerp_rgb(color_range_data, t):
        t = t / color_range_data[1][0]
        return (
            (int(color_range_data[0][1] + (color_range_data[1][1] - color_range_data[0][1]) * t)),
            (int(color_range_data[0][2] + (color_range_data[1][2] - color_range_data[0][2]) * t)),
            (int(color_range_data[0][3] + (color_range_data[1][3] - color_range_data[0][3]) * t))
        )

    @staticmethod
    def get_height_color(height, gradient):
        current_color = (0, 0, 0, 0)
        last_color = (0, 0, 0, 0)

        for index in range(0, len(gradient)):
            last_color = current_color
            current_height = gradient[index][0]
            current_color = (
                current_height,
                gradient[index][1],
                gradient[index][2],
                gradient[index][3],
            )

            if height < gradient[index][0]:
                break

        return last_color, current_color

    @staticmethod
    def lookup_color_table(value, color_table):
        return color_table[int(value)]


def main():
    parser = argparse.ArgumentParser(description="Parse the Legend of Zelda: Breath of the Wild terrain files to png")
    parser.add_argument("filename", type=str, help="File to be parsed.")
    parser.add_argument("-a", "--all",
                        help="Generate all map types. Terrain height map, water height map, material map, grass map " +
                             "and terrain and water composite map",
                        action="store_true")
    parser.add_argument("-t", "--terrain",
                        help="Generate terrain height map",
                        action="store_true")
    parser.add_argument("-w", "--water",
                        help="Generate water height map",
                        action="store_true")
    parser.add_argument("-m", "--material",
                        help="Generate material map",
                        action="store_true")
    parser.add_argument("-g", "--grass",
                        help="Generate grass map",
                        action="store_true")
    parser.add_argument("-c", "--composite",
                        help="Generate terrain and water composite map",
                        action="store_true")
    parser.add_argument("-gs", "--grayscale",
                        help="Generate as gray scale map",
                        action="store_true")
    args = parser.parse_args()

    image_types = (False, False, False, False, False, False)

    if args.terrain:
        image_types = (True, image_types[1], image_types[2], image_types[3], image_types[4], image_types[5])

    if args.water:
        image_types = (image_types[0], True, image_types[2], image_types[3], image_types[4], image_types[5])

    if args.material:
        image_types = (image_types[0], image_types[1], True, image_types[3], image_types[4], image_types[5])

    if args.grass:
        image_types = (image_types[0], image_types[1], image_types[2], True, image_types[4], image_types[5])

    if args.composite:
        image_types = (image_types[0], image_types[1], image_types[2], image_types[3], True, image_types[5])

    if args.grayscale:
        image_types = (image_types[0], image_types[1], image_types[2], image_types[3], image_types[4], True)

    if args.all:
        image_types = (True, True, True, True, True, image_types[5])

    if not args.all and not args.terrain and not args.water and not args.material and not args.grass \
            and not args.composite:
        image_types = (True, True, True, True, True, image_types[5])

    HGHT(args.filename, image_types[0], image_types[1], image_types[2], image_types[3], image_types[4], image_types[5])

    sys.exit(1)


if __name__ == "__main__":
    main()
